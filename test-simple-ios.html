<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Minimalista - M√°xima Compatibilidad iOS</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        /* M√âTODO 1: Responsive simple */
        .video-method-1 {
            width: 100%;
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        /* M√âTODO 2: Container con aspect-ratio */
        .video-wrapper-2 {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin: 20px 0;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .video-method-2 {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        
        /* M√âTODO 3: Flexbox container */
        .video-wrapper-3 {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 20px 0;
            background: #000;
            border-radius: 8px;
            min-height: 300px;
        }
        
        .video-method-3 {
            width: 100%;
            height: auto;
            max-width: 100%;
        }
        
        .method-title {
            background: #667eea;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin: 30px 0 10px 0;
            font-weight: 600;
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test Minimalista - iOS Safari</h1>
        
        <div class="info-box">
            <strong>Objetivo:</strong> Encontrar la configuraci√≥n m√°s simple que funcione en iOS Safari sin fallos.
            <br><strong>Archivo:</strong> assets/videos/Caja/arqueo-caja/arqueo-caja.mp4
        </div>
        
        <!-- M√âTODO 1: M√°s simple posible -->
        <div class="method-title">üîß M√©todo 1: Video Simple Responsivo</div>
        <video 
            class="video-method-1"
            controls 
            playsinline 
            webkit-playsinline
            preload="metadata">
            <source src="assets/videos/Caja/arqueo-caja/arqueo-caja.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
        </video>
        
        <!-- M√âTODO 2: Container con aspect-ratio -->
        <div class="method-title">üì¶ M√©todo 2: Container con Aspect-Ratio</div>
        <div class="video-wrapper-2">
            <video 
                class="video-method-2"
                controls 
                playsinline 
                webkit-playsinline
                preload="metadata">
                <source src="assets/videos/Caja/arqueo-caja/arqueo-caja.mp4" type="video/mp4">
                Tu navegador no soporta video HTML5.
            </video>
        </div>
        
        <!-- M√âTODO 3: Flexbox -->
        <div class="method-title">üéØ M√©todo 3: Flexbox Container</div>
        <div class="video-wrapper-3">
            <video 
                class="video-method-3"
                controls 
                playsinline 
                webkit-playsinline
                preload="metadata">
                <source src="assets/videos/Caja/arqueo-caja/arqueo-caja.mp4" type="video/mp4">
                Tu navegador no soporta video HTML5.
            </video>
        </div>
        
        <!-- M√âTODO 4: Con poster para iOS -->
        <div class="method-title">üçé M√©todo 4: iOS Optimizado con Poster</div>
        <video 
            class="video-method-1"
            controls 
            playsinline 
            webkit-playsinline
            preload="none"
            poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='450' viewBox='0 0 800 450'%3E%3Crect width='800' height='450' fill='%23000'/%3E%3Ctext x='400' y='225' text-anchor='middle' fill='white' font-size='48' font-family='Arial'%3E‚ñ∂%3C/text%3E%3C/svg%3E">
            <source src="assets/videos/Caja/arqueo-caja/arqueo-caja.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
        </video>
        
        <!-- M√âTODO 5: Muted para autoplay permitido -->
        <div class="method-title">üîá M√©todo 5: Muted para iOS (Click para unmute)</div>
        <video 
            id="mutedVideo"
            class="video-method-1"
            controls 
            playsinline 
            webkit-playsinline
            muted
            preload="metadata">
            <source src="assets/videos/Caja/arqueo-caja/arqueo-caja.mp4" type="video/mp4">
            Tu navegador no soporta video HTML5.
        </video>
        
        <div class="info-box">
            <strong>Prueba cada m√©todo en tu dispositivo iOS y reporta cu√°l funciona mejor:</strong>
            <br>‚Ä¢ ¬øEl video carga correctamente?
            <br>‚Ä¢ ¬øLos controles aparecen?
            <br>‚Ä¢ ¬øSe puede reproducir sin problemas?
            <br>‚Ä¢ ¬øEs responsive en diferentes tama√±os?
        </div>
    </div>

    <script>
        // Simple detection and unmute for iOS
        document.addEventListener('DOMContentLoaded', () => {
            const mutedVideo = document.getElementById('mutedVideo');
            
            // Detect iOS
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            
            if (isIOS && mutedVideo) {
                // Add click listener to unmute
                mutedVideo.addEventListener('click', () => {
                    if (mutedVideo.muted) {
                        mutedVideo.muted = false;
                        console.log('Video unmuted for iOS');
                    }
                });
                
                console.log('iOS detected - click video to unmute');
            }
            
            console.log('Test page loaded - try each video method');
        });
    </script>
</body>
</html>
